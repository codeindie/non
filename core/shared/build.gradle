apply plugin: "java"

sourceCompatibility = 1.6
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceSets.main.java.srcDirs = [ "src/" ]


task precompile(type:Exec) {
    copy {
        from "precompiled"
        into "build/classes/main"
    }

    if (System.getProperty('os.name').toLowerCase().contains('windows')) {
        commandLine 'cmd', '/c', 'precompile.bat'
    } else {
        commandLine './precompile'
    }
}

compileJava.dependsOn precompile
